{% macro container(
        size=false,
        padding_top=false,
        padding_bottom=false,
        background_color=false,
        inner_background_color=false,
        paint=false,
        brush_bg=false
        ) %}
    {% if brush_bg %}
      {% set background_color=false %}
      {% set inner_background_color=false %}
      {% set paint=false %}
    {% endif %}
    <div class="spirit-container{{' spirit-context--' + background_color if background_color}}">
      <div class="spirit-container__inner{{' spirit-container__inner--' + size if size }}{{' spirit-container__inner--padding-top-' + padding_top if padding_top}}{{' spirit-container__inner--padding-bottom-' + padding_bottom if padding_bottom}}{{' spirit-container__inner--paint-' + paint if paint}}{{' spirit-context--' + inner_background_color if inner_background_color}}">
        {% if (paint==='top' or paint==='both') and (background_color or inner_background_color) %}
          {{ container_texture(top=true) }}
        {% endif %}
        {% if brush_bg %}
           {{ container_texture(bg=brush_bg) }}
        {% endif %}
          {{ caller() }}
        {% if (paint==='bottom' or paint==='both') and (background_color or inner_background_color) %}
          {{ container_texture(bottom=true) }}
        {% endif %}
      </div>
    </div>
{% endmacro %}

{% macro container_texture(
      top=false,
      bottom=false,
      bg=false
    )
  %}
  {% if top %}
    <div class="spirit-container__paint-top">
    </div>
  {% endif %}
  {% if bottom %}
    <div class="spirit-container__paint-bottom">
    </div>
  {% endif %}
  {% if bg %}
    <div class="spirit-container__brush-bg {{ ' spirit-container__brush-bg--' + bg }}">
    </div>
  {% endif %}
{% endmacro %}
